<!DOCTYPE html>
<html lang="en">
<head>
    <title>Transportation Network Robustness</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--&lt;!&ndash;meta data for sharing links on Facebook&ndash;&gt;-->
    <!--<meta property="og:title" content="The Dynamic Okavango Delta"/>-->
    <!--<meta property="og:url" content="https://hannahfriedrich.github.io/delta/"/>-->
    <!--<meta property="og:description" content="This is a storymap which briefly explores the natural elements and human influences on the Okavango Delta"/>-->
    <!--<meta property="og:image" content="img/social.png"/>-->

    <!--add required stylesheets-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css">
    <!--add favicon for the web page-->
    <link rel="shortcut icon" href="assets/favicon/earthquake.ico" type="image/x-icon">
    <!--facebook and info icons-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <!--animation-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">

    <!--Font-->
    <!--use a better font for this web map-->
    <link href='http://fonts.googleapis.com/css?family=Merriweather' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" type="text/css" href="dist/storymap.2.3.css">

    <!--add required libraries-->
    <script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-ajax/2.1.0/leaflet.ajax.min.js"></script>

    <!--mini globle map-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/topojson/1.6.19/topojson.min.js"></script>
    <script src="js/globeminimap.js"></script>

    <!--story map plugin-->
    <script src="dist/storymap.2.3.js"></script>
    <style>
        table {
            border-collapse: collapse;
            width: 100%;
        }

        th, td {
            text-align: left;
            padding: 8px;
        }

        tr:nth-child(even){background-color: #cccccc}
    </style>

</head>
<body>

<div id="storymap" class="container-fluid">
    <div class="row">
        <div class="col-sm-6 col-md-4 storymap-story">
            <section data-scene="overview" data-background="assets/tsunami.mp4">
                <div class="fullscreen text-right">
                    <h1>Transportation Network Robustness</h1>
                    <h4>A Percolation Modeling Approach</h4>
                    <h3>
                        <small style="font-size:14pt; color: #333333;" > Shangjia Dong, dongs@oregonstate.edu, Oregon State University
                        </small>
                    </h3>
                </div>
            </section>
            <section data-scene="about">
                <h2>Background</h2>
                <p>Unplanned disruption in the transportation system would lead to severe consequences. In particular, earthquake often results in immediate life and economic losses. For example, 1994 Northridge, US earthquake resulted $20 billion loss; in 1995 Kobe, Japan earthquake, more than 35,000 fatalities and the total economic loss is amount to $120 billion etc. Transportation disruption is found very common in the earthquake due to landslide (debris block) and liquefaction (damage to road pavement and bridge damage).</p>
                <p>Understanding the robustness of network against such component failures is closely related to the study of percolation on networks. Percolation is normally parametrized by a probability, which stands for the probability that a node is present or functioning in the network. As the probability decreases, there comes a point where the giant component breaks apart and only small components are left. Thus the presence of a giant component can serve as an indicator of a network that is at least partially functioning, and the size of the giant component reflects the proportion of the network that is working. In this project, we focused on exploring the robustness of the road network from its topology perspective at different scales.</p>
                <img src="img/robustness.jpg" class="img-responsive" alt="responsive image img-thumbnail" alt-text="Boston Network Robustness">
                <a href="https://www.pinterest.com/pin/286471226267965582">source</a>
            </section>

            <section data-scene="boston">
                <h2>Boston</h2>
                <p>Boston Transportation Network Robustness Index: 0.21 .</p>
                    <div style="overflow-x:auto;">
                        <table>
                            <tr>
                                <th>Degree</th>
                                <th>Number of Nodes</th>
                            </tr>
                            <tr>
                                <th>1</th>
                                <th>7905</th>
                            </tr>
                            <tr>
                                <th>2</th>
                                <th>1622</th>
                            </tr>
                            <tr>
                                <th>3</th>
                                <th>30315</th>
                            </tr>
                            <tr>
                                <th>4</th>
                                <th>10385</th>
                            </tr>
                            <tr>
                                <th>5</th>
                                <th>365</th>
                            </tr>
                            <tr>
                                <th>6</th>
                                <th>49</th>
                            </tr>
                        </table>
                    </div>

                <img src="img/degDistBoston.png" class="img-responsive" alt="responsive image" alt-text="Boston Network distribution">
            </section>

            <section data-scene="sanfran">
                <h2>San Francisco</h2>
                <p>San Francisco Transportation Network Robustness Index: 0.19.</p>
                <div style="overflow-x:auto;">
                    <table>
                        <tr>
                            <th>Degree</th>
                            <th>Number of Nodes</th>
                        </tr>
                        <tr>
                            <th>1</th>
                            <th>22323</th>
                        </tr>
                        <tr>
                            <th>2</th>
                            <th>4924</th>
                        </tr>
                        <tr>
                            <th>3</th>
                            <th>76590</th>
                        </tr>
                        <tr>
                            <th>4</th>
                            <th>28724</th>
                        </tr>
                        <tr>
                            <th>5</th>
                            <th>978</th>
                        </tr>
                        <tr>
                            <th>6</th>
                            <th>74</th>
                        </tr>

                    </table>
                </div>
                <img src="img/degDistSanFrancisco.png" class="img-responsive" alt="responsive image" alt-text="San Francisco Network distribution">
            </section>
            <section data-scene="vegas">
                <h2>Las Vegas</h2>
                <p>Las Vegas Transportation Network Robustness Index: 0.19.</p>
                <div style="overflow-x:auto;">
                    <table>
                        <tr>
                            <th>Degree</th>
                            <th>Number of Nodes</th>
                        </tr>
                        <tr>
                            <th>1</th>
                            <th>22323</th>
                        </tr>
                        <tr>
                            <th>2</th>
                            <th>4924</th>
                        </tr>
                        <tr>
                            <th>3</th>
                            <th>76590</th>
                        </tr>
                        <tr>
                            <th>4</th>
                            <th>28724</th>
                        </tr>
                        <tr>
                            <th>5</th>
                            <th>978</th>
                        </tr>
                        <tr>
                            <th>6</th>
                            <th>74</th>
                        </tr>

                    </table>
                </div>
                <img src="img/degDistLasVegas.png" class="img-responsive" alt="responsive image" alt-text="Las Vegas Network distribution">
            </section>
            <!--<section data-scene="chicago">-->
                <!--<h2>Chicago</h2>-->
                <!--<p>Chicago Transportation Network Robustness Index: 0.20.</p>-->
                <!--<div style="overflow-x:auto;">-->
                    <!--<table>-->
                        <!--<tr>-->
                            <!--<th>Degree</th>-->
                            <!--<th>Number of Nodes</th>-->
                        <!--</tr>-->
                        <!--<tr>-->
                            <!--<th>1</th>-->
                            <!--<th>22323</th>-->
                        <!--</tr>-->
                        <!--<tr>-->
                            <!--<th>2</th>-->
                            <!--<th>4924</th>-->
                        <!--</tr>-->
                        <!--<tr>-->
                            <!--<th>3</th>-->
                            <!--<th>76590</th>-->
                        <!--</tr>-->
                        <!--<tr>-->
                            <!--<th>4</th>-->
                            <!--<th>28724</th>-->
                        <!--</tr>-->
                        <!--<tr>-->
                            <!--<th>5</th>-->
                            <!--<th>978</th>-->
                        <!--</tr>-->
                        <!--<tr>-->
                            <!--<th>6</th>-->
                            <!--<th>74</th>-->
                        <!--</tr>-->

                    <!--</table>-->
                <!--</div>-->
                <!--<img src="img/degDistChicago.png" class="img-responsive" alt="responsive image" alt-text="Chicago Network distribution">-->
            <!--</section>-->
            <section data-scene="seattle">
                <h2>Seattle</h2>
                <p>Seattle Transportation Network Robustness Index: 0.14.</p>
                <div style="overflow-x:auto;">
                    <table>
                        <tr>
                            <th>Degree</th>
                            <th>Number of Nodes</th>
                        </tr>
                        <tr>
                            <th>1</th>
                            <th>22323</th>
                        </tr>
                        <tr>
                            <th>2</th>
                            <th>4924</th>
                        </tr>
                        <tr>
                            <th>3</th>
                            <th>76590</th>
                        </tr>
                        <tr>
                            <th>4</th>
                            <th>28724</th>
                        </tr>
                        <tr>
                            <th>5</th>
                            <th>978</th>
                        </tr>
                        <tr>
                            <th>6</th>
                            <th>74</th>
                        </tr>

                    </table>
                </div>
                <img src="img/degDistSeattle.png" class="img-responsive" alt="responsive image" alt-text="Seattle Network distribution">
            </section>
            <section data-scene="conclusion">
                <h2>Summary</h2>
                <p>The robustness rank of different cities.</p>
                <img src="img/cityRV.png" class="img-responsive" alt="responsive image" alt-text="robustness summary">
            </section>

            <section data-scene="end" data-background="img/city.jpg">
                <div class="fullscreen text-center">
                    <br/>
                    <h6 class="">Together, we will build a resilient transportation netowrk!</h6>
                </div>
            </section>

        </div>
        <!--map div-->
        <div class="col-sm-6 col-md-8 storymap-map"></div>
    </div>


    <dl>
        <dt>
            <!--facebook icon-->
            <a class="fa fa-facebook-square btn"
               href="https://www.facebook.com/sharer/sharer.php?u=https%3A//shangjiadong.github.io/transrob/"
               target="_blank"></a>
        </dt>
        <dt>
            <!--facebook icon-->
            <a class="fa fa-git-square btn" href="https://github.com/shangjiadong/transrob" style="top:40px"
               target="_blank"></a>
        </dt>
        <dt>
            <!--info icon-->
            <i class="fa fa-file-text-o btn" style="top:60px" data-toggle="modal" data-target="#info-modal"></i>
        </dt>
    </dl>

    <!--the info page-->
    <div class="modal fade" id="info-modal" role="dialog">
        <div class="modal-dialog modal-md">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">About</h4>
                </div>
                <div class="modal-body">
                    <p>This is a web map of major cities in USA. It is made to visualize the robustness of the transportation network from topological perspective. The story map library is derived from the storymap plugin for leaflet at <a>http://atlefren.github.io/storymap/</a>, and its functionality relies on both leaflet and Boostrap.</p>
                    <p><b>storymap.js</b> | Released Date: 02/20/2017 | Version: 2.1 | MIT License </p>
                    <p><b>Author: Shangjia Dong</b> | School of Civil and Construction Engineering | Oregon State University </p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- main javascript -->
<script type="text/javascript">



    var layers = {

        boston: {
            layer: L.geoJson.ajax('assets/bostonNet.geojson', {
                color: 'red',
                weight: 1.5,
                opacity: 0.25
            })
        },
        sanfran: {
            layer: L.geoJson.ajax('assets/sanFranNet.geojson', {
                color: 'red',
                weight: 1.5,
                opacity: 0.25
            })
        },
        vegas: {
            layer: L.geoJson.ajax('assets/lasVegasNet.geojson', {
                color: 'red',
                weight: 1.5,
                opacity: 0.25
            })
        },
//        chicago: {
//            layer: L.geoJson.ajax('assets/chicagoNet.geojson', {
//                color: 'red',
//                weight: 1.5,
//                opacity: 0.25
//            })
//        },
        seattle: {
            layer: L.geoJson.ajax('assets/seattleNet.geojson', {
                color: 'red',
                weight: 1.5,
                opacity: 0.25
            })
        },
        base: {
            layer: L.tileLayer('https://api.mapbox.com/styles/v1/shangjia/cja2vquo714tb2sp7kat9y93m/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1Ijoic2hhbmdqaWEiLCJhIjoiY2o4eGYybHVtMjFpMTJ3cDhkNTlsNG1qeiJ9.eOP2kq4hzAJaTMg4Rqg5yA')
        }
    };


    var scenes = {
        overview: {lat: 39.752217, lng: -120.311815, zoom: 6, name: 'Cover Page'},
        about: {lat: 39.752217, lng: -120.311815, zoom: 4.4, layers: ['base']},
        sanfran: {lat: 37.759150, lng: -122.583052, zoom: 11, layers: ['base', 'sanfran']},
        boston: {lat:42.332035, lng:-71.207294, zoom: 11.5, layers: ['base', 'boston']},
        vegas: {lat:36.105621, lng:-115.5601924, zoom: 9.5, layers: ['base', 'vegas']},
//        chicago: {lat:41.786347, lng:-88.730063, zoom: 10, layers: ['base', 'chicago']},
        seattle: {lat:47.822081, lng:-123.524751, zoom: 8.5, layers: ['base', 'seattle']},
        conclusion: {lat: 39.752217, lng: -120.311815, zoom: 4, layers: ['base']}
//        overview: {lat: 5.5000000, lng: 14.5000000, zoom: 6, name: 'Overview'},
//        about: {lat: -15.0000000, lng: 13.5000000, zoom: 6, name: 'About', layers: ['catchment','seasonal_delta', 'perm_delta']},
//        reserve: {lat: -18.0000000, lng: 18.5000000, zoom: 6, name: 'Parks and Reserves', layers: ['reserve']},
//        biodiversity: {lat: -18.0000000, lng: 18.5000000, zoom: 7, name: 'Biodiversity', layers: ['elephant', 'giraffe']},
//        future: {lat: -18.0000000, lng: 18.5000000, zoom: 7, name: 'Future Threats: Ecotourism', layers: ['lodge']},
//        end: {lat: -18.0000000, lng: 22.5000000, zoom: 7, name: 'The End'},

    };

    $('#storymap').storymap({
        scenes: scenes,
        layers: layers,
        baselayer: layers.satellite,
        legend: true, // if you do not want a legend feature, you can simply not define the createLegend function.
        credits: "",
        loader: false,
        scalebar: false,
        navwidget: true,

        createMap: function () {
            // create a map in the "map" div, set the view to a given place and zoom
            var map = L.map($(".storymap-map")[0], {zoomControl: false, scrollWheelZoom: true}).setView([-19, 22], 7);

            //add an miniglobe
            new L.Control.GlobeMiniMap({
                marker: 'red',
                position: 'bottomright'
            }).addTo(map);


            return map;
        }
    });
</script>
</body>
</html>